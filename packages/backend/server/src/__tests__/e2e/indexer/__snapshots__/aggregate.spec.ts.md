# Snapshot report for `src/__tests__/e2e/indexer/aggregate.spec.ts`

The actual snapshot is saved in `aggregate.spec.ts.snap`.

Generated by [AVA](https://avajs.dev).

## should aggregate by docId

> Snapshot 1

    [
      {
        count: 3,
        hits: {
          nodes: [
            {
              fields: {
                blockId: [
                  'block-2',
                ],
                flavour: [
                  'affine:page',
                ],
              },
              highlights: {
                content: [
                  'test3 <b>hello</b> title top1',
                ],
              },
            },
            {
              fields: {
                blockId: [
                  'block-0',
                ],
                flavour: [
                  'affine:text',
                ],
              },
              highlights: {
                content: [
                  'test1 <b>hello world</b> top2',
                ],
              },
            },
          ],
        },
        key: 'doc-0',
      },
      {
        count: 1,
        hits: {
          nodes: [
            {
              fields: {
                blockId: [
                  'block-3',
                ],
                flavour: [
                  'affine:text',
                ],
              },
              highlights: {
                content: [
                  'test4 <b>hello world</b>',
                ],
              },
            },
          ],
        },
        key: 'doc-1',
      },
      {
        count: 1,
        hits: {
          nodes: [
            {
              fields: {
                blockId: [
                  'block-4',
                ],
                flavour: [
                  'affine:text',
                ],
              },
              highlights: {
                content: [
                  'test5 <b>hello</b>',
                ],
              },
            },
          ],
        },
        key: 'doc-2',
      },
    ]
