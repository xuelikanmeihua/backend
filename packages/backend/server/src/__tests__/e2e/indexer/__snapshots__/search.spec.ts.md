# Snapshot report for `src/__tests__/e2e/indexer/search.spec.ts`

The actual snapshot is saved in `search.spec.ts.snap`.

Generated by [AVA](https://avajs.dev).

## should search with query

> Snapshot 1

    [
      {
        fields: {
          ref: [
            '{"foo": "bar1"}',
            '{"foo": "bar3"}',
          ],
          refDocId: [
            'doc-0',
            'doc-2',
          ],
        },
        highlights: null,
      },
      {
        fields: {
          ref: [
            '{"foo": "bar1"}',
          ],
          refDocId: [
            'doc-0',
          ],
        },
        highlights: null,
      },
    ]

## should filter no read permission docs on team workspace

> Snapshot 1

    [
      {
        fields: {
          blockId: [
            'block-0',
          ],
          docId: [
            'doc-0',
          ],
        },
        highlights: null,
      },
      {
        fields: {
          blockId: [
            'block-2',
          ],
          docId: [
            'doc-2',
          ],
          ref: [
            '{"foo": "bar1"}',
            '{"foo": "bar3"}',
          ],
          refDocId: [
            'doc-0',
            'doc-2',
          ],
        },
        highlights: null,
      },
      {
        fields: {
          blockId: [
            'block-1',
          ],
          docId: [
            'doc-1',
          ],
          ref: [
            '{"foo": "bar1"}',
          ],
          refDocId: [
            'doc-0',
          ],
        },
        highlights: null,
      },
    ]

> Snapshot 2

    [
      {
        fields: {
          blockId: [
            'block-0',
          ],
          docId: [
            'doc-0',
          ],
        },
        highlights: null,
      },
      {
        fields: {
          blockId: [
            'block-1',
          ],
          docId: [
            'doc-1',
          ],
          ref: [
            '{"foo": "bar1"}',
          ],
          refDocId: [
            'doc-0',
          ],
        },
        highlights: null,
      },
    ]

## should return empty results when search not match any docs

> Snapshot 1

    {
      workspace: {
        search: {
          nodes: [],
          pagination: {
            count: 0,
            hasMore: false,
            nextCursor: null,
          },
        },
      },
    }

## should return empty nodes when docId not exists

> Snapshot 1

    {
      workspace: {
        search: {
          nodes: [],
          pagination: {
            count: 0,
            hasMore: false,
            nextCursor: null,
          },
        },
      },
    }

## should empty doc summary string when doc exists but no summary

> Snapshot 1

    [
      {
        fields: {
          summary: [
            '',
          ],
        },
        highlights: null,
      },
    ]
